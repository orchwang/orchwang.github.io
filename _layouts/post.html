---
layout: default
---

<div class="post-wrapper">
    <article class="post">
        <header class="post-header">
            <h1 class="post-title">{{ page.title }}</h1>
            <div class="post-meta">
                <time datetime="{{ page.date | date_to_xmlschema }}">
                    {{ page.date | date: "%Y년 %m월 %d일" }}
                </time>
                {% if page.tags %}
                <div class="post-tags">
                    {% for tag in page.tags %}
                    <a href="{{ site.baseurl }}/tags/{{ tag | slugify }}/" class="tag">{{ tag }}</a>
                    {% endfor %}
                </div>
                {% endif %}
            </div>

            {% if page.series %}
            <div class="series-info">
                {% assign series_posts = site.posts | where: "series", page.series | sort: 'date' %}
                {% assign series_size = series_posts | size %}
                {% assign current_index = 0 %}
                {% for post in series_posts %}
                    {% if post.url == page.url %}
                        {% assign current_index = forloop.index %}
                        {% break %}
                    {% endif %}
                {% endfor %}
                <div class="series-badge">
                    📖 시리즈: <a href="{{ site.baseurl }}/series/{{ page.series | slugify }}/">{{ page.series }}</a>
                    <span class="series-position">({{ current_index }} / {{ series_size }})</span>
                </div>
                {% if series_size > 1 %}
                <div class="series-navigation">
                    {% if current_index > 1 %}
                        {% assign prev_index = current_index | minus: 2 %}
                        {% assign prev_post = series_posts[prev_index] %}
                        <a href="{{ prev_post.url | relative_url }}" class="series-nav-link series-prev">
                            ← 이전: {{ prev_post.title }}
                        </a>
                    {% endif %}
                    {% if current_index < series_size %}
                        {% assign next_index = current_index %}
                        {% assign next_post = series_posts[next_index] %}
                        <a href="{{ next_post.url | relative_url }}" class="series-nav-link series-next">
                            다음: {{ next_post.title }} →
                        </a>
                    {% endif %}
                </div>
                {% endif %}
            </div>
            {% endif %}
        </header>

        <div class="post-content">
            {{ content }}
        </div>

        {% if page.categories contains 'Roadmap' %}
        <div class="roadmap-notice">
            📋 이 문서는 학습 로드맵입니다. 체크박스를 업데이트하여 진행 상황을 추적하세요.
        </div>
        {% endif %}
    </article>

    <nav class="post-toc-sidebar" id="post-toc">
        <div class="toc-header">목차</div>
        <div class="toc-content" id="toc-content">
            <!-- TOC will be generated by JavaScript -->
        </div>
    </nav>
</div>

{% if site.posts.size > 1 %}
<nav class="post-navigation">
    {% if page.previous.url %}
    <a href="{{ page.previous.url | relative_url }}" class="prev-post">
        ← {{ page.previous.title }}
    </a>
    {% endif %}

    {% if page.next.url %}
    <a href="{{ page.next.url | relative_url }}" class="next-post">
        {{ page.next.title }} →
    </a>
    {% endif %}
</nav>
{% endif %}
